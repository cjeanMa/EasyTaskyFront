(this.webpackJsonphomework=this.webpackJsonphomework||[]).push([[0],{130:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),i=n.n(c),s=(n(130),n(11)),o=Object(a.createContext)(),l=n(1),d=function(e){var t=r.a.useState(!1),n=Object(s.a)(t,2),c=n[0],i=n[1];return Object(a.useEffect)((function(){!function(){var e=localStorage.getItem("sesion");e?(JSON.parse(e),i(!0)):console.log("NO HABIA UNA SESI\xd3N ACTIVA")}()}),[]),Object(l.jsx)(o.Provider,{value:{logeado:c,iniciarSesionState:function(e){localStorage.setItem("sesion",JSON.stringify(e)),i(!0)},cerrarSesion:function(){localStorage.removeItem("sesion"),i(!1),window.location.pathname="/"},getUserLogued:function(){if(localStorage.getItem("sesion"))return JSON.parse(localStorage.getItem("sesion"))}},children:e.children})},j=n(19),u=n(10),b=n(186),h=n(188),O=n(190),x=n(59),p=n(192),m=n(191),f=n(98),g=n.n(f),v=Object(b.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),y=function(){var e=Object(a.useContext)(o),t=v();return Object(l.jsx)(h.a,{position:"static",children:Object(l.jsxs)(O.a,{children:[Object(l.jsx)(m.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",children:Object(l.jsx)(g.a,{})}),Object(l.jsx)(x.a,{variant:"h5",className:t.title,children:Object(l.jsx)(j.b,{to:"/",children:"Easy Tasky "})}),Object(l.jsxs)(p.a,{color:"inherit",children:[" ",Object(l.jsx)(j.b,{to:"/",children:"Home"})," "]}),Object(l.jsx)("div",{hidden:e.logeado,children:Object(l.jsxs)(p.a,{color:"inherit",disabled:e.logeado,children:[" ",Object(l.jsx)(j.b,{to:"/register",children:"Registrate"})]})}),Object(l.jsx)("div",{hidden:e.logeado,children:Object(l.jsxs)(p.a,{color:"inherit",children:[" ",Object(l.jsx)(j.b,{to:"/login",children:"Login"})]})}),Object(l.jsx)("div",{hidden:!e.logeado,children:Object(l.jsxs)(p.a,{color:"inherit",children:[" ",Object(l.jsx)(j.b,{to:"/user",children:"Dashboard"})]})}),Object(l.jsx)("div",{hidden:!e.logeado,children:Object(l.jsx)(p.a,{color:"inherit",onClick:e.cerrarSesion,children:" Cerrar Sesion"})})]})})},C=function(){return Object(l.jsx)("div",{children:"Admin Router"})},w=(n(78),function(){return Object(l.jsxs)("div",{className:"base",children:[Object(l.jsx)("h1",{children:" Easy Tasky"}),Object(l.jsx)("h2",{children:" tareas y Eventos"}),Object(l.jsx)("h3",{children:" Registrate y Descubre nuestra app"}),Object(l.jsx)("h3",{children:" "}),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(j.b,{to:"/register",className:"btn btn1",children:Object(l.jsx)("button",{class:"btn btn1",children:" Registrate "})}),Object(l.jsx)(j.b,{to:"/login",className:"btn btn1",children:Object(l.jsx)("button",{class:"btn btn1",children:" Inicia Sesion "})})]})]})}),k=n(215),S=n(195),N=n(196),E=n(198),_=n(212),T=n(193),W=n(199),P=n(210),I=n(99),F=n.n(I),D=n(194),A=function(){return Object(l.jsxs)(x.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(l.jsx)(T.a,{color:"inherit",href:"/",children:"Easy Tasky"})," ",(new Date).getFullYear(),"."]})},U=n(12),R=n.n(U),q=n(21),L="http://127.0.0.1:8000/",B=function(){var e=Object(q.a)(R.a.mark((function e(t,n){var a,r,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={username:t,password:n},e.next=3,fetch("".concat(L,"login/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(q.a)(R.a.mark((function e(t){var n,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"users/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var H=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),backgroundColor:"darkblue"}}}));function G(){var e=H(),t=Object(a.useContext)(o),n=r.a.useState(""),c=Object(s.a)(n,2),i=c[0],d=c[1],u=r.a.useState(""),b=Object(s.a)(u,2),h=b[0],O=b[1],m=r.a.useState([]),f=Object(s.a)(m,2),g=(f[0],f[1]);r.a.useEffect((function(){}),[]);return Object(l.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(l.jsx)(S.a,{}),Object(l.jsxs)("div",{className:e.paper,children:[Object(l.jsx)(k.a,{className:e.avatar,children:Object(l.jsx)(F.a,{})}),Object(l.jsx)(x.a,{component:"h1",variant:"h5",children:"Inicia Sesion"}),Object(l.jsxs)("form",{className:e.form,onSubmit:function(e){e.preventDefault(),B(i,h).then((function(e){e.success?(console.log(e),t.iniciarSesionState(e),g(e),window.location.pathname="/user"):console.log("No funciona")}))},children:[Object(l.jsx)(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,value:i,onChange:function(e){d(e.target.value)}}),Object(l.jsx)(N.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:h,onChange:function(e){O(e.target.value)}}),Object(l.jsx)(E.a,{control:Object(l.jsx)(_.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(l.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",value:"submit",className:e.submit,children:"Iniciar Sesion"}),Object(l.jsxs)(W.a,{container:!0,children:[Object(l.jsx)(W.a,{item:!0,xs:!0,children:Object(l.jsx)(T.a,{href:"#",variant:"body2",children:"Olvidaste tu contrase\xf1a?"})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(j.b,{to:"/register",variant:"body2",children:"no tienes una cuenta? Registrate"})})]})]})]}),Object(l.jsx)(P.a,{mt:8,children:Object(l.jsx)(A,{})})]})}var z=function(){return Object(l.jsx)("div",{children:Object(l.jsx)(G,{})})},M=n(17),V=n(23),Y=n(149),K=n(154),Q=n(147),X=n(150),Z=n(100),$=n.n(Z),ee=n(56),te=(n(80),Object(b.a)((function(e){return{centering:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:5},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main}}}))),ne=function(){var e=te(),t=r.a.useState(!1),n=Object(s.a)(t,2),c=(n[0],n[1],r.a.useState("")),i=Object(s.a)(c,2),o=i[0],d=(i[1],r.a.useState({username:"",name:"",surname:"",email:"",celphone:"",password:""})),j=Object(s.a)(d,2),u=j[0],b=j[1];Object(a.useEffect)((function(){""==u.password&&""==o||(u.username.password==o?console.log("Son iguales"):console.log("aun noson iguales"))}),[o]);var h=function(e){var t=e.target,n=t.id,a=t.value;b(Object(V.a)(Object(V.a)({},u),{},Object(M.a)({},n,a)))};return Object(l.jsx)(D.a,{maxWidth:"sm",children:Object(l.jsx)(P.a,{border:1,borderColor:"primary.main",boxShadow:5,p:5,mt:5,children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(u),J(u).then((function(e){Object(ee.confirmAlert)({title:"Usuario Creado Satisfactoriamente",message:"Deseas iniciar sesion?",buttons:[{label:"Si",onClick:function(){window.location.pathname="/login"}},{label:"No",onClick:function(){window.location.pathname="/"}}]})}))},children:[Object(l.jsxs)("div",{className:e.centering,children:[Object(l.jsx)(k.a,{className:e.avatar,children:Object(l.jsx)($.a,{})}),Object(l.jsx)(x.a,{component:"h1",variant:"h5",children:"Registro de nuevo usuario"})]}),Object(l.jsxs)(W.a,{container:!0,spacing:3,children:[Object(l.jsx)(W.a,{item:!0,xs:12,sm:6,children:Object(l.jsxs)(Y.a,{fullWidth:"true",children:[Object(l.jsx)(K.a,{htmlFor:"nombres",children:"Nombres:"}),Object(l.jsx)(Q.a,{id:"name",value:u.name,onChange:h,"aria-describedby":"helper-nombre"}),Object(l.jsx)(X.a,{id:"helper-nombre",children:"Ingresa tu nombre completo"})]})}),Object(l.jsx)(W.a,{item:!0,xs:12,sm:6,children:Object(l.jsxs)(Y.a,{fullWidth:"true",children:[Object(l.jsx)(K.a,{htmlFor:"apellidos",children:"Apellidos:"}),Object(l.jsx)(Q.a,{id:"surname",value:u.surname,onChange:h,"aria-describedby":"helper-apellido"}),Object(l.jsx)(X.a,{id:"helper-apellido",children:"De preferencia los dos apellidos"})]})}),Object(l.jsx)(W.a,{item:!0,xs:12,sm:6,children:Object(l.jsxs)(Y.a,{fullWidth:"true",children:[Object(l.jsx)(K.a,{htmlFor:"correo",children:"Correo Electronico:"}),Object(l.jsx)(Q.a,{id:"email",value:u.email,onChange:h,"aria-describedby":"helper-correo",type:"email"}),Object(l.jsx)(X.a,{id:"helper-correo",children:"No compartiremos tu correo."})]})}),Object(l.jsx)(W.a,{item:!0,xs:12,sm:6,children:Object(l.jsxs)(Y.a,{fullWidth:"true",children:[Object(l.jsx)(K.a,{htmlFor:"celular",children:"Numero de Celular:"}),Object(l.jsx)(Q.a,{id:"celphone",inputProps:{maxLength:9},value:u.celphone,onChange:h,"aria-describedby":"helper-celular"}),Object(l.jsx)(X.a,{id:"helper-celular",children:"Es un dato opcional"})]})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsxs)(Y.a,{fullWidth:"true",children:[Object(l.jsx)(K.a,{htmlFor:"username",children:"Nombre de Usuario"}),Object(l.jsx)(Q.a,{id:"username",value:u.username,onChange:h,"aria-describedby":"helper-username"}),Object(l.jsx)(X.a,{id:"helper-username"})]})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsxs)(Y.a,{fullWidth:"true",children:[Object(l.jsx)(K.a,{htmlFor:"password",children:"Contrase\xf1a:"}),Object(l.jsx)(Q.a,{id:"password",value:u.password,onChange:h,"aria-describedby":"helper-password",type:"password"}),Object(l.jsx)(X.a,{id:"helper-password",children:"Intenta hacer una constrase\xf1a segura"})]})}),Object(l.jsx)(W.a,{xs:12,fullwidth:"true",children:Object(l.jsx)("div",{className:e.centering,children:Object(l.jsx)(p.a,{type:"submit",variant:"contained",color:"primary",children:"Registrarme"})})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)("div",{className:e.centering,children:Object(l.jsx)(A,{})})})]})]})})})},ae=function(){return Object(l.jsx)("div",{children:Object(l.jsx)(ne,{})})},re=function(){return Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{path:"/login",children:Object(l.jsx)(z,{})}),Object(l.jsx)(u.a,{path:"/register",children:Object(l.jsx)(ae,{})}),Object(l.jsx)(u.a,{path:"/",children:Object(l.jsx)(w,{})})]})},ce=n(214),ie=n(197),se=n(203),oe=n(200),le=n(201),de=n(202),je=n(102),ue=n.n(je),be=n(101),he=n.n(be),Oe=Object(b.a)((function(e){return{root:{display:"flex"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}})),xe=function(){var e=Oe();return Object(l.jsxs)("div",{className:e.root,children:[Object(l.jsx)(S.a,{}),Object(l.jsxs)(ce.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(l.jsx)(O.a,{}),Object(l.jsxs)("div",{className:e.drawerContainer,children:[Object(l.jsxs)(ie.a,{children:[Object(l.jsx)(j.b,{to:"/user/tasks",children:Object(l.jsxs)(oe.a,{button:!0,children:[Object(l.jsx)(le.a,{children:Object(l.jsx)(he.a,{})}),Object(l.jsx)(de.a,{primary:"Tareas"})]})}),Object(l.jsx)(j.b,{to:"/user/events",children:Object(l.jsxs)(oe.a,{button:!0,children:[Object(l.jsx)(le.a,{children:Object(l.jsx)(ue.a,{})}),Object(l.jsx)(de.a,{primary:"Eventos"})]})})]}),Object(l.jsx)(se.a,{})]})]}),Object(l.jsx)(O.a,{})]})},pe=Object(b.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1},title:{flexGrow:1}}})),me=function(){var e=Object(a.useContext)(o),t=pe();return Object(a.useEffect)((function(){e.logeado||(window.location.pathname="/")}),[e.logeado]),Object(l.jsx)(h.a,{position:"fixed",className:t.appBar,children:Object(l.jsxs)(O.a,{children:[Object(l.jsx)(x.a,{variant:"h5",className:t.title,children:"Easy Tasky - Tasky Manager"}),Object(l.jsx)("div",{hidden:!e.logeado,children:Object(l.jsx)(p.a,{color:"inherit",onClick:e.cerrarSesion,children:" Cerrar Sesion"})})]})})},fe=n(146),ge=n(205),ve=n(209),ye=n(208),Ce=n(204),we=n(206),ke=n(213),Se=n(207),Ne=function(){var e=Object(q.a)(R.a.mark((function e(t){var n,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"user/tasks/").concat(t));case 2:return n=e.sent,a=n.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(q.a)(R.a.mark((function e(){var t,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"categoryTasks/"));case 2:return t=e.sent,n=t.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=Object(q.a)(R.a.mark((function e(t){var n,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"tasks/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(q.a)(R.a.mark((function e(t){var n,a,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,fetch("".concat(L,"tasks/").concat(n),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(q.a)(R.a.mark((function e(t){var n,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"tasks/").concat(t),{method:"DELETE"});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=n(71),Ie=n.n(Pe),Fe=n(72),De=n.n(Fe),Ae=n(152),Ue=Object(b.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),Re=function(e){var t,n,c=Object.assign({},e),i=Ue(),o=r.a.useState({action:c.action,data:{title_task:"",description_task:"",taskCategory:"",id_user:c.idUser}}),d=Object(s.a)(o,2),j=d[0],u=d[1],b=r.a.useState([]),h=Object(s.a)(b,2),O=h[0],m=h[1];Object(a.useEffect)((function(){Ee().then((function(e){return m(e)}))}),[]),Object(a.useEffect)((function(){"update"==c.action?(console.log("dataTask not empty"),u((function(e){return{action:c.action,data:Object(V.a)({},c.dataTask)}}))):(console.log("dataTask empty"),u({action:c.action,data:{title_task:"",description_task:"",taskCategory:"",id_user:c.idUser}}))}),[c.dataTask,c.action]);var f=function(e){var t=e.target,n=t.id,a=t.value;u((function(e){return Object(V.a)(Object(V.a)({},e),{},{data:Object(V.a)(Object(V.a)({},e.data),{},Object(M.a)({},n,a))})}))};return Object(l.jsx)(P.a,{boxShadow:4,border:1,borderRadius:15,padding:2,marginBottom:2,borderColor:"lightgray",children:Object(l.jsxs)("form",{onSubmit:function(e){switch(e.preventDefault(),j.action){case"create":console.log("estas intentando crear un nuevo task",j),_e(j.data).then((function(e){return c.refreshData()})),c.closeForm();break;case"update":console.log("estas intentando updatear un task",j),Te(j.data).then((function(e){return c.refreshData()})),c.closeForm()}},children:[Object(l.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Formulario de Tarea"}),Object(l.jsxs)(W.a,{container:!0,spacing:3,children:[Object(l.jsx)(W.a,{item:!0,xs:12,sm:6,children:Object(l.jsx)(N.a,(t={required:!0,id:"title_task",name:"titulo",label:"Titulo de Tarea",value:j.data.title_task,fullWidth:!0},Object(M.a)(t,"required",!0),Object(M.a)(t,"onChange",f),t))}),Object(l.jsx)(W.a,{item:!0,xs:12,sm:6,children:Object(l.jsx)(N.a,(n={required:!0,id:"description_task",name:"descripcion",label:"Descripcion corta de Tarea",value:j.data.description_task,fullWidth:!0},Object(M.a)(n,"required",!0),Object(M.a)(n,"onChange",f),n))}),Object(l.jsx)(W.a,{item:!0,xs:12,alignContent:"center",children:Object(l.jsxs)(Y.a,{variant:"filled",className:i.formControl,children:[Object(l.jsx)(K.a,{htmlFor:"filled-age-native-simple",children:"Categoria"}),Object(l.jsxs)(Ae.a,{native:!0,id:"taskCategory",value:j.data.taskCategory,onChange:f,required:!0,children:[Object(l.jsx)("option",{"aria-label":"None",value:""}),O.map((function(e){return Object(l.jsx)("option",{value:e.id,children:e.title_task_category})}))]})]})}),Object(l.jsxs)(W.a,{item:!0,xs:12,children:[Object(l.jsx)("span",{disabled:"create"!=c.action,hidden:"create"!=c.action,children:Object(l.jsx)(p.a,{type:"submit",variant:"contained",color:"primary",children:"Aceptar"})}),Object(l.jsx)("span",{disabled:"update"!=c.action,hidden:"update"!=c.action,children:Object(l.jsx)(p.a,{type:"submit",variant:"contained",color:"secondary",children:"Actualizar"})}),Object(l.jsx)(p.a,{margin:2,variant:"contained",color:"primary",onClick:function(){u({action:c.action,data:{title_task:"",description_task:"",taskCategory:"",id_user:c.idUser}}),c.closeForm()},children:"Cancelar"}),Object(l.jsx)(p.a,{onClick:function(){console.log(j)},children:"Show me"})]})]})]})})},qe=[{label:"Num",minWidth:100},{label:"TAREA",minWidth:170},{label:"DESCRIPCION",minWidth:170,align:"right"},{label:"FECHA DE CREACION",minWidth:150,align:"right"},{label:"ACCIONES",minWidth:170,align:"center"}],Le=Object(b.a)({root:{width:"100%"},container:{maxHeight:600}}),Be=function(){var e=Le(),t=r.a.useState(0),n=Object(s.a)(t,2),c=n[0],i=n[1],d=r.a.useState(10),j=Object(s.a)(d,2),u=j[0],b=j[1],h=r.a.useState([]),O=Object(s.a)(h,2),x=(O[0],O[1],r.a.useState({})),m=Object(s.a)(x,2),f=m[0],g=m[1],v=r.a.useState([]),y=Object(s.a)(v,2),C=y[0],w=y[1],k=r.a.useState("create"),S=Object(s.a)(k,2),N=S[0],E=S[1],_=r.a.useState(!0),T=Object(s.a)(_,2),W=T[0],P=T[1],I=Object(a.useContext)(o),F=1;Object(a.useEffect)((function(){Ne(I.getUserLogued().data.id).then((function(e){return w(e)}))}),[]);var D=function(){Ne(I.getUserLogued().data.id).then((function(e){return w(e)}))};return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{hidden:W,children:Object(l.jsx)(Re,{idUser:I.getUserLogued().data.id,action:N,closeForm:function(){P(!0),g(null)},dataTask:f,refreshData:function(){return D()}})}),Object(l.jsxs)(fe.a,{className:e.root,children:[Object(l.jsx)(p.a,{variant:"contained",color:"primary",margin:3,onClick:function(){P(!1),E("create"),g({})},children:"Agregar Tarea"}),Object(l.jsx)(Ce.a,{className:e.container,children:Object(l.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(l.jsx)(we.a,{children:Object(l.jsx)(Se.a,{children:qe.map((function(e){return Object(l.jsx)(ye.a,{align:"center",style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(l.jsx)(ve.a,{children:C.slice(c*u,c*u+u).map((function(e){return Object(l.jsxs)(Se.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[Object(l.jsx)(ye.a,{align:"center",children:F++}),Object(l.jsx)(ye.a,{children:e.title_task}),Object(l.jsx)(ye.a,{children:e.description_task}),Object(l.jsx)(ye.a,{align:"center",children:e.created_at}),Object(l.jsxs)(ye.a,{align:"center",children:[Object(l.jsx)("button",{border:0,id:e.id,onClick:function(){return t=e,P(!1),E("update"),void g(t);var t},children:Object(l.jsx)(Ie.a,{color:"error"})}),Object(l.jsx)("button",{onClick:function(){return t=e.id,void Object(ee.confirmAlert)({title:"Eliminar Tarea",message:"Realmente quieres borrar esta tarea?",buttons:[{label:"Si",onClick:function(){We(t).then((function(e){D()}))}},{label:"No"}]});var t},children:Object(l.jsx)(De.a,{color:"secondary"})})]})]},e.id)}))})]})}),Object(l.jsx)(ke.a,{rowsPerPageOptions:[5,10,50],component:"div",count:C.length,rowsPerPage:u,page:c,onChangePage:function(e,t){i(t)},onChangeRowsPerPage:function(e){b(+e.target.value),i(0)}})]})]})},Je=function(){var e=Object(q.a)(R.a.mark((function e(t){var n,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"user/events/").concat(t));case 2:return n=e.sent,a=n.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(q.a)(R.a.mark((function e(){var t,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"categoryEvents/"));case 2:return t=e.sent,n=t.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(q.a)(R.a.mark((function e(t){var n,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"events/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(q.a)(R.a.mark((function e(t){var n,a,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,fetch("".concat(L,"events/").concat(n),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=Object(q.a)(R.a.mark((function e(t){var n,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"events/").concat(t),{method:"DELETE"});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=Object(b.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),Ye=function(e){var t,n,c,i,o=Object.assign({},e),d=Ve(),j=r.a.useState({action:o.action,data:{title_event:"",description_event:"",place_event:"",date_event:"",eventCategory:"",id_user:o.idUser}}),u=Object(s.a)(j,2),b=u[0],h=u[1],O=r.a.useState([]),m=Object(s.a)(O,2),f=m[0],g=m[1];Object(a.useEffect)((function(){He().then((function(e){return g(e)}))}),[]),Object(a.useEffect)((function(){"update"==o.action?h((function(e){return{action:o.action,data:Object(V.a)({},o.dataEvent)}})):h({action:o.action,data:{title_event:"",description_event:"",place_event:"",date_event:"",eventCategory:"",id_user:o.idUser}})}),[o.dataEvent,o.action]);var v=function(e){var t=e.target,n=t.id,a=t.value;h((function(e){return Object(V.a)(Object(V.a)({},e),{},{data:Object(V.a)(Object(V.a)({},e.data),{},Object(M.a)({},n,a))})}))};return Object(l.jsx)(P.a,{boxShadow:4,border:1,borderRadius:15,padding:2,marginBottom:2,borderColor:"lightgray",children:Object(l.jsxs)("form",{onSubmit:function(e){switch(e.preventDefault(),b.action){case"create":Ge(b.data).then((function(e){return o.refreshData()})),o.closeForm();break;case"update":ze(b.data).then((function(e){return o.refreshData()})),o.closeForm()}},children:[Object(l.jsx)(x.a,{variant:"h6",gutterBottom:!0,children:"Formulario de Evento"}),Object(l.jsxs)(W.a,{container:!0,spacing:3,children:[Object(l.jsx)(W.a,{item:!0,xs:12,sm:6,children:Object(l.jsx)(N.a,(t={required:!0,id:"title_event",name:"titulo",label:"Nombre del Evento",value:b.data.title_event,fullWidth:!0},Object(M.a)(t,"required",!0),Object(M.a)(t,"onChange",v),t))}),Object(l.jsx)(W.a,{item:!0,xs:12,sm:6,children:Object(l.jsx)(N.a,(n={required:!0,id:"description_event",name:"descripcion",label:"Descripcion corta del evento",value:b.data.description_event,fullWidth:!0},Object(M.a)(n,"required",!0),Object(M.a)(n,"onChange",v),n))}),Object(l.jsxs)(W.a,{container:!0,xs:12,alignContent:"center",justify:"center",children:[Object(l.jsx)(W.a,{item:!0,xs:4,alignContent:"center",justify:"center",children:Object(l.jsxs)(Y.a,{variant:"filled",className:d.formControl,children:[Object(l.jsx)(K.a,{htmlFor:"filled-age-native-simple",children:"Categoria"}),Object(l.jsxs)(Ae.a,{native:!0,id:"eventCategory",value:b.data.eventCategory,onChange:v,required:!0,children:[Object(l.jsx)("option",{"aria-label":"None",value:""}),f.map((function(e){return Object(l.jsx)("option",{value:e.id,children:e.title_event_category})}))]})]})}),Object(l.jsx)(W.a,{item:!0,xs:4,alignContent:"center",children:Object(l.jsx)(N.a,(c={required:!0,id:"place_event",name:"descripcion",label:"Lugar del evento",value:b.data.place_event},Object(M.a)(c,"required",!0),Object(M.a)(c,"onChange",v),c))}),Object(l.jsx)(W.a,{item:!0,xs:4,alignContent:"center",children:Object(l.jsx)(N.a,(i={required:!0,type:"date",id:"date_event",name:"descripcion",label:"Fecha del evento",value:b.data.date_event},Object(M.a)(i,"required",!0),Object(M.a)(i,"onChange",v),i))})]}),Object(l.jsxs)(W.a,{item:!0,xs:12,children:[Object(l.jsx)("span",{disabled:"create"!=o.action,hidden:"create"!=o.action,children:Object(l.jsx)(p.a,{type:"submit",variant:"contained",color:"primary",children:"Aceptar"})}),Object(l.jsx)("span",{disabled:"update"!=o.action,hidden:"update"!=o.action,children:Object(l.jsx)(p.a,{type:"submit",variant:"contained",color:"secondary",children:"Actualizar"})}),Object(l.jsx)(p.a,{margin:2,variant:"contained",color:"primary",onClick:function(){h({action:o.action,data:{title_event:"",description_event:"",place_event:"",date_event:"",eventCategory:"",id_user:o.idUser}}),o.closeForm()},children:"Cancelar"}),Object(l.jsx)(p.a,{onClick:function(){console.log(b)},children:"Show me"})]})]})]})})},Ke=[{label:"NUM",minWidth:30},{label:"EVENTO",minWidth:100},{label:"DESCRIPCION",minWidth:150},{label:"LUGAR",minWidth:40},{label:"FECHA DE EVENTO",minWidth:40},{label:"ACCIONES",minWidth:50}],Qe=Object(b.a)({root:{width:"100%"},container:{maxHeight:"90%"}}),Xe=function(){var e=Qe(),t=r.a.useState(0),n=Object(s.a)(t,2),c=n[0],i=n[1],d=r.a.useState(10),j=Object(s.a)(d,2),u=j[0],b=j[1],h=r.a.useState({}),O=Object(s.a)(h,2),x=O[0],m=O[1],f=r.a.useState([]),g=Object(s.a)(f,2),v=g[0],y=g[1],C=r.a.useState("create"),w=Object(s.a)(C,2),k=w[0],S=w[1],N=r.a.useState(!0),E=Object(s.a)(N,2),_=E[0],T=E[1],W=Object(a.useContext)(o),P=1;Object(a.useEffect)((function(){Je(W.getUserLogued().data.id).then((function(e){return y(e)}))}),[]);var I=function(){Je(W.getUserLogued().data.id).then((function(e){return y(e)}))};return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{hidden:_,children:Object(l.jsx)(Ye,{idUser:W.getUserLogued().data.id,action:k,closeForm:function(){T(!0),m(null)},dataEvent:x,refreshData:function(){return I()}})}),Object(l.jsxs)(fe.a,{className:e.root,children:[Object(l.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){T(!1),S("create"),m({})},children:"Agregar Evento"}),Object(l.jsx)(Ce.a,{className:e.container,children:Object(l.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(l.jsx)(we.a,{children:Object(l.jsx)(Se.a,{children:Ke.map((function(e){return Object(l.jsx)(ye.a,{align:"center",style:{minWidth:e.minWidth},children:e.label})}))})}),Object(l.jsx)(ve.a,{children:v.slice(c*u,c*u+u).map((function(e){return Object(l.jsxs)(Se.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[Object(l.jsx)(ye.a,{align:"center",children:P++}),Object(l.jsx)(ye.a,{children:e.title_event}),Object(l.jsx)(ye.a,{children:e.description_event}),Object(l.jsx)(ye.a,{align:"center",children:e.place_event}),Object(l.jsx)(ye.a,{align:"center",children:e.date_event}),Object(l.jsxs)(ye.a,{align:"center",children:[Object(l.jsx)("button",{border:0,id:e.id,onClick:function(){return function(e){T(!1),S("update"),m(e)}(e)},children:Object(l.jsx)(Ie.a,{color:"error"})}),Object(l.jsx)("button",{onClick:function(){return t=e.id,void Object(ee.confirmAlert)({title:"Eliminar Evento",message:"Realmente quieres borrar este evento?",buttons:[{label:"Si",onClick:function(){Me(t).then((function(e){I()}))}},{label:"No"}]});var t},children:Object(l.jsx)(De.a,{color:"secondary"})})]})]},e.id)}))})]})}),Object(l.jsx)(ke.a,{rowsPerPageOptions:[10,25,100],component:"div",count:v.length,rowsPerPage:u,page:c,onChangePage:function(e,t){i(t)},onChangeEventPerPage:function(e){b(+e.target.value),i(0)}})]})]})},Ze=Object(b.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,padding:e.spacing(3)}}})),$e=function(){var e=r.a.useState([]),t=Object(s.a)(e,2),n=(t[0],t[1],Ze());return Object(l.jsxs)("div",{className:n.root,children:[Object(l.jsx)(S.a,{}),Object(l.jsx)(me,{}),Object(l.jsx)(xe,{}),Object(l.jsx)("main",{className:n.content,children:Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{path:"/user/tasks",children:Object(l.jsx)(Be,{})}),Object(l.jsx)(u.a,{path:"/user/events",children:Object(l.jsx)(Xe,{})})]})})]})},et=function(){return Object(l.jsx)(u.c,{children:Object(l.jsx)(u.a,{path:"/user",children:Object(l.jsx)($e,{})})})},tt=function(){return Object(l.jsx)("div",{children:Object(l.jsx)(j.a,{children:Object(l.jsxs)("div",{children:[Object(l.jsx)(y,{}),Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{path:"/admin",children:Object(l.jsx)(C,{})}),Object(l.jsx)(u.a,{path:"/user",children:Object(l.jsx)(et,{})}),Object(l.jsx)(u.a,{path:"/",children:Object(l.jsx)(re,{})})]})]})})})};var nt=function(){return Object(l.jsx)(d,{children:Object(l.jsx)(tt,{})})},at=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,218)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(nt,{})}),document.getElementById("root")),at()},78:function(e,t,n){}},[[143,1,2]]]);
//# sourceMappingURL=main.4f675622.chunk.js.map